extension String {
    func cleanedOfMojibake() -> String {
        let fixes: [String: String] = [
            // Common Western European diacritics
            "Ã¡": "á", "Ã¢": "â", "Ã¤": "ä", "Ã£": "ã", "Ãå": "å", "Ãæ": "æ",
            "Ãç": "ç", "Ã¨": "è", "Ã©": "é", "Ãê": "ê", "Ãë": "ë",
            "Ãì": "ì", "Ãí": "í", "Ãî": "î", "Ãï": "ï", "Ãð": "ð",
            "Ãñ": "ñ", "Ãò": "ò", "Ãó": "ó", "Ãô": "ô", "Ãõ": "õ",
            "Ãö": "ö", "Ãø": "ø", "Ãù": "ù", "Ãú": "ú", "Ãû": "û", "Ãü": "ü",
            "Ãœ": "Ü", "Ã ": "à", "ÃŸ": "ß", "Ã‰": "É",
            
            // Slavic/Central European
            "Å‚": "ł", "Å›": "ś", "Åº": "ź", "Å¼": "ż", "Å„": "ń", "Å¡": "š", "Å¾": "ž",
            "Ä‡": "ć", "Ä‘": "đ", "Ä…": "ą", "Ä™": "ę", "Ä": "č","âº": "ś", "Ãâº": "ś",

            
            // Punctuation
            "â€“": "–", "â€”": "—", "â€˜": "‘", "â€™": "’", "â€œ": "“", "â€": "”",
            "â€¦": "…", "â€": "†", "â€¡": "‡", "â‚¬": "€",
            
            // Cleanup
            "Â": "", "\u{FFFD}": "", "\n": "", "\r": "","Ãº": "ú","âº": "º","â": "",
            
            // Rare fallbacks
            "Ã»": "û", "Ãš": "Ú", "Ã›": "Û", "Ãž": "Þ", "Ã…": "Å",
            "Ã…â€º": "ś",
        ]
        
        var result = self
        for (bad, good) in fixes {
            result = result.replacingOccurrences(of: bad, with: good)
        }
        
        return result
    }
}
